@model IEnumerable<Product>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />
<div class="row">
    <div class="col-6">
        <h2 class="text-primary">Product List </h2>
    </div>
    <div class="col-6 text-right">
        <a class="btn btn-primary" asp-action="upsert" style="background-color:forestgreen"><i class="fas fa-plus"></i> &nbsp; Create New Product</a>
    </div>
</div>

<br />
<div class="p-4 border rounded">
    <table id="tblData" class="table table-striped table-bordered" style="width:100%">
        <thead class="thead-dark">
            <tr class="table-info">
                <th>Image</th>
                <th>Product</th>
                <th>Cost</th>
                <th>SellersCost</th>
                <th>Profit%</th>
                <th>Inventory Count</th>
                <th>On The Way</th>
                <th>Own By Warehouse</th>
                <th>ReStock</th>
                <th>OOS For Sellers</th>
                <th>Available For Sellers</th>
                <th>Category</th>
                <th>Made In</th>
                <th></th>
            </tr>
        </thead>
        @foreach (Product product in Model)
        {
            <tr>
                @if (product.ImageUrl != null)
                {
                <td><img src=@product.ImageUrl.ToString() alt="Product Image" style="height:70px; width: 70px" /></td>
                }
                else
                {
                    <td></td>
                }
                <td>@product.ProductName</td>
                <td>@product.Cost$</td>
                <td>@product.SellersCost$</td>
                <td>@ViewBag.Profit(product.Id).ToString("0.00")%</td>
                <td>@product.InventoryCount</td>
                <td>@product.OnTheWayInventory</td>
                @if (@product.OwnByWarehouse)
                {
                    <td>Yes</td>
                }
                else
                {
                    <td>No</td>
                }
                @if (@product.ReStock)
                {
                    <td>Yes</td>
                }
                else
                {
                    <td>No</td>
                }
                @if (@product.OOSForSellers)
                {
                    <td>Yes</td>
                }
                else
                {
                    <td>No</td>
                }
                @if (@product.AvailableForSellers)
                {
                    <td>Yes</td>
                }
                else
                {
                    <td>No</td>
                }
                <td>@ViewBag.getCategoryName(product.CategoryId)</td>
                <td>@product.MadeIn</td>
<td>
                    <div class="text-center">
                        <a href="/Admin/Product/Upsert/@product.Id" class="btn btn-success text-white" style="cursor:pointer">
                            <i class="fas fa-edit"></i>
                        </a>
                    </div>
                </td>
            </tr>
        }
    </table>
</div>

@section Scripts{
    <script>
        $(document).ready(function () {
            $('#tblData').DataTable({ "order": [[1, "desc"]], "pageLength": 100});
        });</script>
    @*<script src="~/js/product.js"></script>*@
}


